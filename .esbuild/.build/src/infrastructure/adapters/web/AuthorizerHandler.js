"use strict";var s=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var A=(e,t)=>{for(var o in t)s(e,o,{get:t[o],enumerable:!0})},d=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of y(t))!u.call(e,n)&&n!==o&&s(e,n,{get:()=>t[n],enumerable:!(r=l(t,n))||r.enumerable});return e};var h=e=>d(s({},"__esModule",{value:!0}),e);var O={};A(O,{handler:()=>P});module.exports=h(O);async function P(e){if(e&&e.httpMethod==="OPTIONS")return g();let t=e?.headers.Authorization;return!t||t!==process.env.API_KEY?a(t,"Deny",e.methodArn,{}):a(t,"Allow",e.methodArn,JSON.stringify(""))}function g(){return{statusCode:200,headers:{"Access-Control-Allow-Headers":"Content-Type","Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"OPTIONS,POST,GET",Vary:"Origin"},body:JSON.stringify("OK")}}var a=(e,t,o,r)=>{let n={principalId:e};if(t&&o){let i={Version:"2012-10-17",Statement:[]},c={Action:"execute-api:Invoke",Effect:t,Resource:o};i.Statement[0]=c,n.policyDocument=i}return n.context={stringKey:JSON.stringify(r)},n};0&&(module.exports={handler});
